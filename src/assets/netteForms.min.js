/*! netteForms.js | (c) 2004 David Grudl (https://davidgrudl.com) */
(function(e,p){if(e.JSON)if("function"===typeof define&&define.amd)define(function(){return p(e)});else if("object"===typeof module&&"object"===typeof module.exports)module.exports=p(e);else{var d=!e.Nette||!e.Nette.noInit;e.Nette=p(e);d&&e.Nette.initOnLoad()}})("undefined"!==typeof window?window:this,function(e){function p(a){return function(c){return a.call(this,c)}}var d={formErrors:[],version:"2.4",addEvent:function(a,c,b){a.addEventListener?a.addEventListener(c,b):"DOMContentLoaded"===c?a.attachEvent("onreadystatechange",
function(){"complete"===a.readyState&&b.call(this)}):a.attachEvent("on"+c,p(b))},getValue:function(a){var c;if(a){if(a.tagName){if("radio"===a.type){var b=a.form.elements;for(c=0;c<b.length;c++)if(b[c].name===a.name&&b[c].checked)return b[c].value;return null}if("file"===a.type)return a.files||a.value;if("select"===a.tagName.toLowerCase()){c=a.selectedIndex;b=a.options;var f=[];if("select-one"===a.type)return 0>c?null:b[c].value;for(c=0;c<b.length;c++)b[c].selected&&f.push(b[c].value);return f}if(a.name&&
a.name.match(/\[\]$/)){b=a.form.elements[a.name].tagName?[a]:a.form.elements[a.name];f=[];for(c=0;c<b.length;c++)("checkbox"!==b[c].type||b[c].checked)&&f.push(b[c].value);return f}return"checkbox"===a.type?a.checked:"textarea"===a.tagName.toLowerCase()?a.value.replace("\r",""):a.value.replace("\r","").replace(/^\s+|\s+$/g,"")}return a[0]?d.getValue(a[0]):null}return null},getEffectiveValue:function(a,c){var b=d.getValue(a);a.getAttribute&&b===a.getAttribute("data-nette-empty-value")&&(b="");c&&(b=
{value:b},d.validateControl(a,null,!0,b),b=b.value);return b},validateControl:function(a,c,b,f,q){a=a.tagName?a:a[0];c=c||d.parseJSON(a.getAttribute("data-nette-rules"));f=void 0===f?{value:d.getEffectiveValue(a)}:f;for(var h=0,k=c.length;h<k;h++){var g=c[h],l=g.op.match(/(~)?([^?]+)/),e=g.control?a.form.elements.namedItem(g.control):a;g.neg=l[1];g.op=l[2];g.condition=!!g.rules;if(e)if("optional"===g.op)q=!d.validateRule(a,":filled",null,f);else if(!q||g.condition||":filled"===g.op)if(e=e.tagName?
e:e[0],l=d.validateRule(e,g.op,g.arg,a===e?f:void 0),null!==l)if(g.neg&&(l=!l),g.condition&&l){if(!d.validateControl(a,g.rules,b,f,":blank"===g.op?!1:q))return!1}else if(!g.condition&&!l&&!d.isDisabled(e)){if(!b){var p=d.isArray(g.arg)?g.arg:[g.arg];c=g.msg.replace(/%(value|\d+)/g,function(c,b){return d.getValue("value"===b?e:a.form.elements.namedItem(p[b].control))});d.addError(e,c)}return!1}}return"number"!==a.type||a.validity.valid?!0:(b||d.addError(a,"Please enter a valid value."),!1)},validateForm:function(a,
c){var b=a.form||a,f=!1;d.formErrors=[];if(b["nette-submittedBy"]&&null!==b["nette-submittedBy"].getAttribute("formnovalidate"))if(f=d.parseJSON(b["nette-submittedBy"].getAttribute("data-nette-validation-scope")),f.length)f=new RegExp("^("+f.join("-|")+"-)");else return d.showFormErrors(b,[]),!0;var q={},e;for(e=0;e<b.elements.length;e++){var k=b.elements[e];if(!k.tagName||k.tagName.toLowerCase()in{input:1,select:1,textarea:1,button:1}){if("radio"===k.type){if(q[k.name])continue;q[k.name]=!0}if(!(f&&
!k.name.replace(/]\[|\[|]|$/g,"-").match(f)||d.isDisabled(k)||d.validateControl(k,null,c)||d.formErrors.length))return!1}}f=!d.formErrors.length;d.showFormErrors(b,d.formErrors);return f},isDisabled:function(a){if("radio"===a.type){for(var c=0,b=a.form.elements;c<b.length;c++)if(b[c].name===a.name&&!b[c].disabled)return!1;return!0}return a.disabled},addError:function(a,c){d.formErrors.push({element:a,message:c})},showFormErrors:function(a,c){for(var b=[],f,e=0;e<c.length;e++){var h=c[e].element,k=
c[e].message;d.inArray(b,k)||(b.push(k),!f&&h.focus&&(f=h))}b.length&&(alert(b.join("\n")),f&&f.focus())}},t=!1;d.validateRule=function(a,c,b,f){f=void 0===f?{value:d.getEffectiveValue(a,!0)}:f;":"===c.charAt(0)&&(c=c.substr(1));c=c.replace("::","_");c=c.replace(/\\/g,"");var e=d.isArray(b)?b.slice(0):[b];if(!t){t=!0;for(var h=0,k=e.length;h<k;h++)if(e[h]&&e[h].control){var g=a.form.elements.namedItem(e[h].control);e[h]=g===a?f.value:d.getEffectiveValue(g,!0)}t=!1}return d.validators[c]?d.validators[c](a,
d.isArray(b)?e:e[0],f.value,f):null};d.validators={filled:function(a,c,b){return"number"===a.type&&a.validity.badInput?!0:""!==b&&!1!==b&&null!==b&&(!d.isArray(b)||!!b.length)&&(!e.FileList||!(b instanceof e.FileList)||b.length)},blank:function(a,c,b){return!d.validators.filled(a,c,b)},valid:function(a){return d.validateControl(a,null,!0)},equal:function(a,c,b){function f(a){return"number"===typeof a||"string"===typeof a?""+a:!0===a?"1":""}if(void 0===c)return null;b=d.isArray(b)?b:[b];c=d.isArray(c)?
c:[c];a=0;var e=b.length;a:for(;a<e;a++){for(var h=0,k=c.length;h<k;h++)if(f(b[a])===f(c[h]))continue a;return!1}return!0},notEqual:function(a,c,b){return void 0===c?null:!d.validators.equal(a,c,b)},minLength:function(a,c,b){if("number"===a.type){if(a.validity.tooShort)return!1;if(a.validity.badInput)return null}return b.length>=c},maxLength:function(a,c,b){if("number"===a.type){if(a.validity.tooLong)return!1;if(a.validity.badInput)return null}return b.length<=c},length:function(a,c,b){if("number"===
a.type){if(a.validity.tooShort||a.validity.tooLong)return!1;if(a.validity.badInput)return null}c=d.isArray(c)?c:[c,c];return(null===c[0]||b.length>=c[0])&&(null===c[1]||b.length<=c[1])},email:function(a,c,b){return/^("([ !#-[\]-~]|\\[ -~])+"|[-a-z0-9!#$%&'*+\/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+\/=?^_`{|}~]+)*)@([0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)+[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?$/i.test(b)},
url:function(a,c,b,d){/^[a-z\d+.-]+:/.test(b)||(b="http://"+b);return/^https?:\/\/((([-_0-9a-z\u00C0-\u02FF\u0370-\u1EFF]+\.)*[0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)?[a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF])?|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[[0-9a-f:]{3,39}\])(:\d{1,5})?(\/\S*)?$/i.test(b)?(d.value=b,!0):!1},regexp:function(a,c,b){a="string"===typeof c?c.match(/^\/(.*)\/([imu]*)$/):
!1;try{return a&&(new RegExp(a[1],a[2].replace("u",""))).test(b)}catch(f){}},pattern:function(a,c,b){try{return"string"===typeof c?(new RegExp("^(?:"+c+")$")).test(b):null}catch(f){}},numeric:function(a,c,b){return"number"===a.type&&a.validity.badInput?!1:/^[0-9]+$/.test(b)},integer:function(a,c,b){return"number"===a.type&&a.validity.badInput?!1:/^-?[0-9]+$/.test(b)},"float":function(a,c,b,d){if("number"===a.type&&a.validity.badInput)return!1;b=b.replace(/ +/g,"").replace(/,/g,".");return/^-?[0-9]*\.?[0-9]+$/.test(b)?
(d.value=b,!0):!1},min:function(a,c,b){if("number"===a.type){if(a.validity.rangeUnderflow)return!1;if(a.validity.badInput)return null}return null===c||parseFloat(b)>=c},max:function(a,c,b){if("number"===a.type){if(a.validity.rangeOverflow)return!1;if(a.validity.badInput)return null}return null===c||parseFloat(b)<=c},range:function(a,c,b){if("number"===a.type){if(a.validity.rangeUnderflow||a.validity.rangeOverflow)return!1;if(a.validity.badInput)return null}return d.isArray(c)?(null===c[0]||parseFloat(b)>=
c[0])&&(null===c[1]||parseFloat(b)<=c[1]):null},submitted:function(a){return a.form["nette-submittedBy"]===a},fileSize:function(a,c,b){if(e.FileList)for(a=0;a<b.length;a++)if(b[a].size>c)return!1;return!0},image:function(a,c,b){if(e.FileList&&b instanceof e.FileList)for(a=0;a<b.length;a++)if((c=b[a].type)&&"image/gif"!==c&&"image/png"!==c&&"image/jpeg"!==c)return!1;return!0},"static":function(a,c,b){return c}};d.toggleForm=function(a,c){var b;d.toggles={};for(b=0;b<a.elements.length;b++)a.elements[b].tagName.toLowerCase()in
{input:1,select:1,textarea:1,button:1}&&d.toggleControl(a.elements[b],null,null,!c);for(b in d.toggles)d.toggle(b,d.toggles[b],c)};d.toggleControl=function(a,c,b,f,e){c=c||d.parseJSON(a.getAttribute("data-nette-rules"));e=void 0===e?{value:d.getEffectiveValue(a)}:e;for(var h=!1,k=[],g=function(){d.toggleForm(a.form,a)},l,p=0,q=c.length;p<q;p++){var n=c[p],u=n.op.match(/(~)?([^?]+)/),m=n.control?a.form.elements.namedItem(n.control):a;if(m){l=b;if(!1!==b){n.neg=u[1];n.op=u[2];l=d.validateRule(m,n.op,
n.arg,a===m?e:void 0);if(null===l)continue;else n.neg&&(l=!l);n.rules||(b=l)}if(n.rules&&d.toggleControl(a,n.rules,l,f,e)||n.toggle){h=!0;if(f){u=!document.addEventListener;var t=m.tagName?m.name:m[0].name;m=m.tagName?m.form.elements:m;for(var r=0;r<m.length;r++)m[r].name!==t||d.inArray(k,m[r])||(d.addEvent(m[r],u&&m[r].type in{checkbox:1,radio:1}?"click":"change",g),k.push(m[r]))}for(var v in n.toggle||[])Object.prototype.hasOwnProperty.call(n.toggle,v)&&(d.toggles[v]=d.toggles[v]||(n.toggle[v]?
l:!l))}}}return h};d.parseJSON=function(a){return"{op"===(a||"").substr(0,3)?eval("["+a+"]"):JSON.parse(a||"[]")};d.toggle=function(a,c,b){if(a=document.getElementById(a))a.style.display=c?"":"none"};d.initForm=function(a){d.toggleForm(a);a.noValidate||(a.noValidate=!0,d.addEvent(a,"submit",function(c){d.validateForm(a)||(c&&c.stopPropagation?(c.stopPropagation(),c.preventDefault()):e.event&&(event.cancelBubble=!0,event.returnValue=!1))}))};d.initOnLoad=function(){d.addEvent(document,"DOMContentLoaded",
function(){for(var a=0;a<document.forms.length;a++)for(var c=document.forms[a],b=0;b<c.elements.length;b++)if(c.elements[b].getAttribute("data-nette-rules")){d.initForm(c);break}d.addEvent(document.body,"click",function(a){for(a=a.target||a.srcElement;a;){if(a.form&&a.type in{submit:1,image:1}){a.form["nette-submittedBy"]=a;break}a=a.parentNode}})})};d.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};d.inArray=function(a,c){if([].indexOf)return-1<a.indexOf(c);for(var b=
0;b<a.length;b++)if(a[b]===c)return!0;return!1};d.webalize=function(a){a=a.toLowerCase();var c="",b;for(b=0;b<a.length;b++){var e=d.webalizeTable[a.charAt(b)];c+=e?e:a.charAt(b)}return c.replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")};d.webalizeTable={"\u00e1":"a","\u00e4":"a","\u010d":"c","\u010f":"d","\u00e9":"e","\u011b":"e","\u00ed":"i","\u013e":"l","\u0148":"n","\u00f3":"o","\u00f4":"o","\u0159":"r","\u0161":"s","\u0165":"t","\u00fa":"u","\u016f":"u","\u00fd":"y","\u017e":"z"};return d});
